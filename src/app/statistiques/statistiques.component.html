<div class="container py-4">
    <h1 class="text-center mb-4">üìä Statistiques sanitaires par pays</h1>

    <div class="row mb-4">
        <div class="col-md-4">
            <label for="pays-select" class="form-label">S√©lectionner un pays</label>
            <select id="pays-select" class="form-select"></select>
        </div>
        <div class="col-md-4">
            <label for="maladie-select" class="form-label">S√©lectionner une maladie</label>
            <select id="maladie-select" class="form-select"></select>
        </div>
        <div class="col-md-4">
            <label for="type-select" class="form-label">Type de statistique</label>
            <select id="type-select" class="form-select">
                <option value="nouveau_mort">Nouveaux morts</option>
                <option value="nouveau_cas">Nouveaux cas</option>
                <option value="total_mort">Total des morts</option>
                <option value="total_cas">Total des cas</option>
            </select>
        </div>
    </div>

    <div class="card mb-4 shadow">
        <div class="card-body">
            <h5 class="card-title">√âvolution des donn√©es</h5>
            <canvas id="mortChart" height="300"></canvas>
            <div class="mt-3 text-end">
                <button id="export-btn" class="btn btn-primary">üì• Exporter en CSV</button>
            </div>
        </div>
    </div>

    <div class="card mb-4 shadow">
        <div class="card-body">
            <h5 class="card-title">Comparaison : Total morts / cas</h5>
            <canvas id="compareChart" height="300"></canvas>
        </div>
    </div>

    <div class="my-4">
        <div class="card-body">
            <h5 class="card-title">Comparaison Total cas vs Nouveaux cas</h5>
            <canvas id="casChart" height="300"></canvas>
        </div>
    </div>

    <div class="my-4">
        <div class="card-body">
            <h5 class="card-title">Comparaison Total morts vs Nouveaux morts</h5>
            <canvas id="mortsChart" height="300"></canvas>
        </div>
    </div>

    <!-- Section pour l'import CSV et graphique pr√©dictif -->
    <div class="card mb-4 shadow">
        <div class="card-body">
            <h5 class="card-title">Donn√©es pr√©dictives</h5>
            <div class="mb-3">
                <label for="csvFile" class="form-label">Importer des donn√©es pr√©dictives (CSV)</label>
                <input type="file" class="form-control" id="csvFile" accept=".csv" (change)="onFileSelected($event)">
                <small class="text-muted d-block">Format attendu (CSV avec en-t√™tes) :</small>
                <small class="text-muted d-block">id_maladie, id_region, date, nouveau_cas, total_cas, nouveau_mort, total_mort, source, nom_region, nom_maladie</small>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="region-select" class="form-label">S√©lectionner une r√©gion</label>
                    <select id="region-select" class="form-select" (change)="onRegionChange($event)">
                        <option value="">S√©lectionnez une r√©gion</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label for="predictive-maladie-select" class="form-label">S√©lectionner une maladie</label>
                    <select id="predictive-maladie-select" class="form-select" (change)="onMaladieChange($event)">
                        <option value="">S√©lectionnez une maladie</option>
                    </select>
                </div>
            </div>
            <div class="alert alert-info" *ngIf="importMessage">
                {{ importMessage }}
            </div>
            <canvas id="predictiveChart" height="300"></canvas>
        </div>
    </div>
</div>
